ui_components_javascript_AnimatedMap = function () {
    var connector = this;
    var element = connector.getElement();
    element.innerHTML = "<div id=\"achartdiv\" style=\"width: 100%;height: 550px;\"></div>";

    connector.onStateChange = function () {
        var state = connector.getState();
        var data = state.data;

        am5.ready(function() {

        // Create root element
        // https://www.amcharts.com/docs/v5/getting-started/#Root_element
        var root = am5.Root.new("achartdiv");

        // Set themes
        // https://www.amcharts.com/docs/v5/concepts/themes/
        root.setThemes([
          am5themes_Animated.new(root)
        ]);

        // Create the map chart
        // https://www.amcharts.com/docs/v5/charts/map-chart/
        var chart = root.container.children.push(am5map.MapChart.new(root, {
          panX: "rotateX",
          panY: "translateY",
          projection: am5map.geoMercator(),
          homeGeoPoint: { latitude: 2, longitude: 2 }
        }));

        var cont = chart.children.push(am5.Container.new(root, {
          layout: root.horizontalLayout,
          x: 20,
          y: 40
        }));

        // Add labels and controls
        cont.children.push(am5.Label.new(root, {
          centerY: am5.p50,
          text: "Map"
        }));

        var switchButton = cont.children.push(am5.Button.new(root, {
          themeTags: ["switch"],
          centerY: am5.p50,
          icon: am5.Circle.new(root, {
            themeTags: ["icon"]
          })
        }));

        switchButton.on("active", function() {
          if (!switchButton.get("active")) {
            chart.set("projection", am5map.geoMercator());
            chart.set("panY", "translateY");
            chart.set("rotationY", 0);
            backgroundSeries.mapPolygons.template.set("fillOpacity", 0);
          } else {
            chart.set("projection", am5map.geoOrthographic());
            chart.set("panY", "rotateY")

            backgroundSeries.mapPolygons.template.set("fillOpacity", 0.1);
          }
        });

        cont.children.push(
          am5.Label.new(root, {
            centerY: am5.p50,
            text: "Globe"
          })
        );

        // Create series for background fill
        // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/#Background_polygon
        var backgroundSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {}));
        backgroundSeries.mapPolygons.template.setAll({
          fill: root.interfaceColors.get("alternativeBackground"),
          fillOpacity: 0,
          strokeOpacity: 0
        });

        // Add background polygon
        // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/#Background_polygon
        backgroundSeries.data.push({
          geometry: am5map.getGeoRectangle(90, 180, -90, -180)
        });

        // Create main polygon series for countries
        // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/
        var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
          geoJSON: am5geodata_worldLow
        }));

        // Create line series for trajectory lines
        // https://www.amcharts.com/docs/v5/charts/map-chart/map-line-series/
        var lineSeries = chart.series.push(am5map.MapLineSeries.new(root, {}));
        lineSeries.mapLines.template.setAll({
          stroke: root.interfaceColors.get("alternativeBackground"),
          strokeOpacity: 0.3
        });

        // Create point series for markers
        // https://www.amcharts.com/docs/v5/charts/map-chart/map-point-series/
        var pointSeries = chart.series.push(am5map.MapPointSeries.new(root, {}));

        pointSeries.bullets.push(function() {
          var circle = am5.Circle.new(root, {
            radius: 7,
            tooltipText: "Drag me!",
            cursorOverStyle: "pointer",
            tooltipY: 0,
            fill: am5.color(0xffba00),
            stroke: root.interfaceColors.get("background"),
            strokeWidth: 2,
            draggable: true
          });

          circle.events.on("dragged", function(event) {
            var dataItem = event.target.dataItem;
            var projection = chart.get("projection");
            var geoPoint = chart.invert({ x: circle.x(), y: circle.y() });

            dataItem.setAll({
              longitude: geoPoint.longitude,
              latitude: geoPoint.latitude
            });
          });

          return am5.Bullet.new(root, {
            sprite: circle
          });
        });

        var paris = addCity({ latitude: 48.8567, longitude: 2.351 }, "Paris");
        var toronto = addCity({ latitude: 43.8163, longitude: -79.4287 }, "Toronto");
        var la = addCity({ latitude: 34.3, longitude: -118.15 }, "Los Angeles");
        var havana = addCity({ latitude: 23, longitude: -82 }, "Havana");

        var lineDataItem = lineSeries.pushDataItem({
          pointsToConnect: [paris, toronto, la, havana]
        });

        var planeSeries = chart.series.push(am5map.MapPointSeries.new(root, {}));

        var plane = am5.Graphics.new(root, {
          svgPath:
            "m 1518.6541,140.0175 c -5.934,0.217 -11.0693,8.08982 -3.6952,14.12505 6.9215,5.66504 13.0465,9.30031 11.0515,25.66014 l -0.933,7.56332 -18.822,1.10519 4.6968,26.48892 -1157.46648,33.43066 c -2.11498,-5.17395 -10.55649,-5.31485 -10.77519,2.45197 l -3.14277,111.44694 -3.97156,-0.13799 c -5.03224,-0.191 -11.60858,3.35966 -12.64016,8.28861 l -3.52267,16.95702 c -1.12589,5.37935 5.60454,11.52788 11.05149,12.26018 l 8.01231,1.07069 -0.20699,6.90712 -188.56545,-27.90491 a 3.3157662,3.3157662 0 0 0 -0.27599,-0.03 c -5.03585,-3.11296 -10.4278,-0.55299 -6.83803,6.32004 l 184.55918,353.47373 -106.0249,0 0,96.5966 -31.84197,-0.03 1.03609,-11.70758 3.55716,-0.414 c 2.38418,-0.26499 4.77216,-0.34999 4.35156,-7.07992 l -0.79399,-12.63997 c 1.62908,-1.47859 3.37856,-2.37608 3.17726,-7.90872 l -0.79399,-21.68847 c -0.23499,-6.45284 -5.27974,-5.07815 -8.28851,-6.69993 l 0,-16.57723 c 0,-2.84617 -4.26826,-4.78465 -7.11443,-4.76585 l -58.64169,0.41399 c -0.07,-1.84028 -0.136,-3.68476 -0.173,-5.52574 -0.09,-4.60385 0,-9.2095 0,-13.81426 -5.64424,-1.53938 -11.56698,-3.15896 -17.75141,-4.35155 -0.94499,1.88948 -1.91558,3.90256 -3.55717,5.52574 -0.13199,4.34166 -0.56099,8.68041 -0.37999,13.01997 0.07,1.76598 0.215,3.52266 0.37999,5.28394 l -138.971954,0.93199 c -0.118999,-1.27739 -0.250998,-2.55337 -0.344997,-3.83346 -0.308996,-4.21725 0.779992,-8.42991 1.174288,-12.64007 -6.578332,-0.92099 -13.141763,-1.84188 -19.719995,-2.76287 l -1.208688,8.28862 -3.937159,2.38287 c 0.322997,2.90367 0.643994,5.80004 0.96699,8.70301 l -55.050025,0.38 c -2.24038,0.01 -4.36266,2.87137 -4.31696,5.11124 l 0.38,19.3396 c 0.05,2.52678 2.20417,5.94014 4.73145,5.94014 l 6.32003,0 0.38,14.98855 -4.31696,0.37999 c -2.68847,0.245 -5.52574,3.24117 -5.52574,5.94024 l 0,14.60865 c 0,2.79707 2.72857,6.28553 5.52574,6.28553 l 9.46281,0 0.310992,14.67775 -29.528092,-0.03 0,-135.79469 c 0,-23.18306 -1.13889,-43.44645 -30.77138,-45.79442 -8.93201,6.16383 -11.42718,23.09346 -14.22875,39.47449 17.86751,13.02326 12.64006,22.71126 12.64006,44.20574 l 0,97.87428 -7.87411,0 c -142.12303,-0.109 -226.28066,-30.66498 -271.55479,-94.69692 l -0.173,0 0,-29.04469 -41.30477,-2.97007 c 58.68639,-112.15504 121.03475,-216.97695 182.65971,-323.25485 a 4.4210216,4.4210216 0 0 0 -2.45208,-8.35771 4.4210216,4.4210216 0 0 0 -0.72499,0.104 l -194.98908,41.75376 1.83049,-115.5567 -10.87879,0 -4.73145,123.22362 -340.52277,289.1336 -14.98844,-0.93299 0,-100.42996 -7.90872,0 0,99.98107 -33.94865,-2.07208 38.6801,159.45154 77.3601,67.8975 2849.71968,0 c 128.372,-63.92724 116.788,-151.37283 115.2459,-179.20624 l -5.9402,0 0,-42.61716 -3.5916,0 c 1.4333,-2.85177 2.5266,-5.06695 3.9715,-7.94322 3.9471,-7.85701 4.2125,-8.39381 7.8741,-15.67923 37.1799,-8.48802 52.0362,9.1406 61.1284,10.22259 12.9474,-14.53455 -6.4651,-25.29344 8.3576,-44.93093 -17.9318,5.29724 -21.3488,-8.85521 -47.4521,-9.46291 a 2.7631385,2.7631385 0 0 0 -3.1774,-3.07366 2.7631385,2.7631385 0 0 0 -2.072,1.55408 c 0,0 -14.7698,29.3681 -29.5971,58.88349 -2.169,4.31725 -3.8481,7.68412 -5.9748,11.91498 l -206.0749,-2.93567 c -5.3117,-9.8253 -9.7646,-20.26689 -15.8521,-30.14979 l -19.0292,0 1.5196,-70.59107 24.3478,-1.07059 c 9.7879,-0.43399 17.3074,-11.20348 24.2785,-25.93633 2.2122,-4.67495 1.7659,-8.11591 -5.5601,-8.11591 l -42.3409,0 0.173,-7.25253 c 0.568,-26.40522 -8.6625,-26.69962 -10.05,-0.276 l -0.38,7.52883 -29.9079,0 -0.691,-29.2519 -27.6286,0 -17.3371,-81.29706 -145.2573,-37.9204 c -13.4791,32.32226 -22.8264,64.47753 -30.4607,96.56199 l -31.4621,0 0.414,-10.04989 c 0.584,-13.69246 -6.3411,-14.77245 -7.2525,0 l -0.622,10.04989 -21.1359,0 c -9.3816,12.55707 1.5453,35.28224 18.373,44.44764 l -1.7267,27.93931 -40.5796,0 -2.383,-44.20574 c -1.2004,-22.40607 -4.9713,-33.86865 -14.9884,-44.20584 l -43.5152,-44.89643 24.7623,-250.17721 12.8126,-0.96699 5.5258,-31.18587 -15.2304,0.89799 1.8305,-18.64931 c 0.62,-6.27213 -0.992,-8.59011 -2.7629,-10.63709 l -12.64,-14.60885 c -1.7165,-1.98478 -3.7895,-2.76607 -5.7676,-2.69377 z m 2.3831,78.91418 0.207,0 -0.03,0.345 -0.173,-0.345 z m -0.484,5.52574 -5.353,43.89495 -36.4699,0.41499 c 2.3426,-3.16766 3.7299,-7.03622 3.7299,-11.22418 0,-10.70519 -9.0077,-19.3745 -20.0997,-19.3745 -11.0923,0 -20.0999,8.66931 -20.0999,19.3745 0,10.70529 9.0076,19.3746 20.0999,19.3746 2.3175,0 4.524,-0.409 6.5963,-1.10519 5.8928,7.27103 30.6956,37.91131 39.3362,49.10989 l -16.6117,136.24369 -164.2175,-5.87114 -4.8696,-74.21733 c -0.221,-3.35627 -2.3361,-4.84435 -4.386,-4.80045 -1.9948,0.04 -3.9031,1.54928 -4.0061,4.17876 l -206.1786,7.73602 -3.9371,10.67158 195.1962,361.65865 c -15.8883,37.13632 -45.1678,60.96197 -91.0018,70.93647 l 0.7249,-7.14893 3.9716,-0.38 c 2.668,-0.26499 5.3057,-0.38799 4.8351,-7.11442 l -0.863,-12.60547 c 1.8229,-1.47759 3.7477,-2.37888 3.5226,-7.90872 l -0.898,-21.68847 c -0.263,-6.44954 -5.8886,-5.07895 -9.2556,-6.70003 l 0,-16.57713 c 0,-2.84477 -4.7583,-4.75065 -7.9432,-4.73135 l -17.4751,0.104 c -0.08,-1.74559 -0.168,-3.46907 -0.207,-5.21485 -0.104,-4.60195 0,-9.2123 0,-13.81436 -6.3162,-1.53898 -12.9375,-3.15926 -19.8581,-4.35155 -1.0572,1.88878 -2.1347,3.90376 -3.9716,5.52574 -0.147,4.33986 -0.651,8.68231 -0.449,13.01997 0.08,1.66018 0.211,3.31696 0.38,4.97314 l -247.79419,1.48469 c -0.14399,-1.36849 -0.30199,-2.73797 -0.41399,-4.10966 -0.346,-4.21505 0.87099,-8.39731 1.31238,-12.60567 l -22.06827,-2.76287 -1.34698,8.28861 -4.38596,2.34848 c 0.372,2.99057 0.732,5.98914 1.10509,8.97921 l -17.44062,0.104 c -2.50707,0.01 -4.88615,2.90757 -4.83495,5.14584 l 0.449,19.3053 c 0.06,2.52538 2.45567,5.94014 5.28394,5.94014 l 7.07983,0 0.414,14.98855 -4.83495,0.37999 c -3.00857,0.245 -6.18194,3.24247 -6.18194,5.94024 l 0,14.57415 c 0,2.79507 3.05167,6.32003 6.18194,6.32003 l 10.60239,0 0.37999,15.43744 -41.13217,-0.03 0,-136.55448 c 0,-23.18306 -1.13889,-43.44645 -30.77138,-45.79442 -8.93191,6.16383 -11.42718,23.09346 -14.22865,39.47449 17.86741,13.02326 12.64006,22.71126 12.64006,44.20574 l 0,98.63417 -28.5612,0 0.311,-15.33384 9.1865,0 c 2.70877,0 5.35305,-3.52256 5.35305,-6.32013 l 0,-14.60865 c 0,-2.69977 -2.74948,-5.69524 -5.35305,-5.94014 l -4.21335,-0.37999 0.37999,-14.98855 6.14734,0 c 2.44747,0 4.50875,-3.41296 4.55875,-5.94014 l 0.38,-19.34 c 0.04,-2.24027 -2.00908,-5.13144 -4.17886,-5.14574 l -25.45284,-0.173 c 0.319,-2.96177 0.648,-5.91364 0.96699,-8.87571 l -3.79886,-2.38297 -1.13978,-8.28852 c -6.37064,0.92099 -12.76217,1.84168 -19.13281,2.76287 0.382,4.21056 1.43919,8.42232 1.13969,12.64007 -0.1,1.33829 -0.224,2.67047 -0.34499,4.00616 L 539.42739,746.7815 c 0.06,-1.84858 0.07,-3.71316 0.03,-5.56024 -0.09,-4.34355 -0.78199,-8.62451 -1.17419,-12.95096 -1.68598,-1.52329 -2.73587,-3.48817 -3.76436,-5.31855 -5.90524,1.55629 -11.52618,3.51717 -16.88802,5.38765 0.28099,4.59685 0.63799,9.1786 0.82899,13.77965 0.06,1.50679 0.101,3.01687 0.138,4.52426 l -11.60408,-0.07 c -2.75618,-0.02 -6.90713,1.88448 -6.90713,4.73145 l 0,16.61163 c -2.91377,1.62208 -7.78502,0.24599 -8.01232,6.69993 l -0.75999,21.68847 c -0.195,5.53364 1.46158,6.43023 3.03917,7.90882 l -0.75999,12.63997 c -0.407,6.73093 1.90458,6.84913 4.21335,7.11442 l 3.45357,0.38 1.03608,11.94938 -28.561,0 0,-96.8039 -105.05781,0 270.0698,-311.27167 c 1.38348,-1.59418 1.58168,-3.00047 1.10519,-4.07516 a 3.3199285,3.3199285 0 0 0 -3.14277,-3.14277 l -118.45777,-6.14743 40.13058,-83.19664 c 3.30337,-6.84733 -4.62625,-11.43908 -8.35761,-3.90256 l -2.45207,4.97315 -173.23141,60.78297 -7.56342,-30.18429 -11.67308,-0.44899 -1.13959,-109.27117 1166.58389,-29.1482 z m -58.1927,22.34467 c 6.1504,0 11.1204,4.80465 11.1204,10.74059 0,5.93594 -4.97,10.74069 -11.1204,10.74069 -6.1506,0 -11.1206,-4.80475 -11.1206,-10.74069 0,-5.93594 4.97,-10.74059 11.1206,-10.74059 z m 20.9286,30.42599 30.6678,1.27788 -3.6607,30.18419 -27.0071,-31.46207 z m -939.92565,63.99483 -36.19343,73.07764 -149.85084,-7.77052 6.73453,-2.34837 13.39996,1.79578 -1.48518,-5.97464 167.39496,-58.77989 z M 155.42307,387.29363 338.08288,414.33515 330.07056,699.1172 155.42307,387.29363 z m -468.65053,1.48499 c -44.02555,86.6496 -109.56667,203.97588 -177.89376,319.66318 l -5.45664,-0.37999 0,-11.08609 -5.94014,-1.13969 4.24786,-267.44512 185.04268,-39.61249 z m 1627.39496,4.21346 0,279.70529 c 0,30.21539 -3.5594,56.36262 -11.2241,78.36159 l -189.3942,-353.37003 200.6183,-4.69685 z m -958.5405,20.06519 0.55299,0.03 134.6549,34.19034 -132.09923,266.82343 -3.10826,-301.04837 z m 34.43214,1.79588 113.89902,5.90564 -10.119,20.44519 -103.78002,-26.35083 z m 125.0541,6.49273 114.31342,5.94014 -36.08993,39.16369 -89.06778,-22.62106 10.84429,-22.48277 z M -512.3262,438.4411 -523.72298,736.07042 -813.06378,718.4917 c -0.75199,6.69933 -6.43073,11.91487 -13.33076,11.91487 -7.41152,0 -13.39986,-6.02293 -13.39986,-13.43446 0,-0.04 -3e-4,-0.07 0,-0.10399 l -1.89948,-0.103 329.36768,-278.32392 z m 1013.65958,11.50038 86.9266,22.06838 -204.96987,222.61769 118.04327,-244.68607 z m 898.37922,88.23899 c 6.1037,0 11.0513,4.94795 11.0513,11.05138 0,6.10354 -4.9476,11.05149 -11.0513,11.05149 -6.1034,0 -11.0515,-4.94795 -11.0515,-11.05149 0,-6.10343 4.9481,-11.05138 11.0515,-11.05138 z m 101.8114,0 c 6.1038,0 11.0514,4.94795 11.0514,11.05138 0,6.10354 -4.9476,11.05149 -11.0514,11.05149 -6.1033,0 -11.0515,-4.94795 -11.0515,-11.05149 0,-6.10343 4.9482,-11.05138 11.0515,-11.05138 z m 143.3236,37.29861 c -1.7532,8.61841 -3.4648,17.25132 -5.1805,25.86723 l -19.2363,0 1.1051,-25.76353 23.3117,-0.104 z m 259.5709,41.02848 -3.6609,70.07307 -21.8956,0 -1.6232,-68.86429 27.1797,-1.20878 z m -502.3921,9.1865 c 5.0406,0 9.1175,4.07696 9.1175,9.11751 0,5.04054 -4.0769,9.1174 -9.1175,9.1174 -5.0405,0 -9.1519,-4.07686 -9.1519,-9.1174 0,-5.04055 4.1114,-9.11751 9.1519,-9.11751 z m 53.6341,0 c 5.0407,0 9.1174,4.07696 9.1174,9.11751 0,5.04054 -4.0767,9.1174 -9.1174,9.1174 -5.0403,0 -9.1174,-4.07686 -9.1174,-9.1174 0,-5.04055 4.0771,-9.11751 9.1174,-9.11751 z m 53.6687,0 c 5.0402,0 9.1174,4.07696 9.1174,9.11751 0,5.04054 -4.0772,9.1174 -9.1174,9.1174 -5.0408,0 -9.1521,-4.07686 -9.1521,-9.1174 0,-5.04055 4.1113,-9.11751 9.1521,-9.11751 z m 53.634,0 c 5.0405,0 9.1175,4.07696 9.1175,9.11751 0,5.04054 -4.077,9.1174 -9.1175,9.1174 -5.0406,0 -9.1174,-4.07686 -9.1174,-9.1174 0,-5.04055 4.0768,-9.11751 9.1174,-9.11751 z m 53.634,0 c 5.0408,0 9.152,4.07696 9.152,9.11751 0,5.04054 -4.1112,9.1174 -9.152,9.1174 -5.0402,0 -9.1175,-4.07686 -9.1175,-9.1174 0,-5.04055 4.0773,-9.11751 9.1175,-9.11751 z m 53.6688,0 c 5.0401,0 9.1174,4.07696 9.1174,9.11751 0,5.04054 -4.0773,9.1174 -9.1174,9.1174 -5.0409,0 -9.1521,-4.07686 -9.1521,-9.1174 0,-5.04055 4.1112,-9.11751 9.1521,-9.11751 z m 107.2679,0 c 5.0408,0 9.152,4.07696 9.152,9.11751 0,5.04054 -4.1112,9.1174 -9.152,9.1174 -5.0402,0 -9.1175,-4.07686 -9.1175,-9.1174 0,-5.04055 4.0773,-9.11751 9.1175,-9.11751 z m 53.6687,0 c 5.0402,0 9.1175,4.07696 9.1175,9.11751 0,5.04054 -4.0773,9.1174 -9.1175,9.1174 -5.0408,0 -9.1174,-4.07686 -9.1174,-9.1174 0,-5.04055 4.0766,-9.11751 9.1174,-9.11751 z m 362.3148,30.11529 c 2.4779,16.26463 4.5728,26.10393 -19.1328,38.0584 8.8283,-17.56521 17.7418,-35.29263 19.1328,-38.0584 z m -791.491,44.86183 c 5.0406,0 9.1175,4.11146 9.1175,9.15211 0,5.04055 -4.0769,9.1174 -9.1175,9.1174 -5.0405,0 -9.1519,-4.07685 -9.1519,-9.1174 0,-5.04065 4.1114,-9.15211 9.1519,-9.15211 z m 53.6341,0 c 5.0407,0 9.1174,4.11146 9.1174,9.15211 0,5.04055 -4.0767,9.1174 -9.1174,9.1174 -5.0403,0 -9.1174,-4.07685 -9.1174,-9.1174 0,-5.04065 4.0771,-9.15211 9.1174,-9.15211 z m 53.6687,0 c 5.0402,0 9.1174,4.11146 9.1174,9.15211 0,5.04055 -4.0772,9.1174 -9.1174,9.1174 -5.0408,0 -9.1521,-4.07685 -9.1521,-9.1174 0,-5.04065 4.1113,-9.15211 9.1521,-9.15211 z m 53.634,0 c 5.0405,0 9.1175,4.11146 9.1175,9.15211 0,5.04055 -4.077,9.1174 -9.1175,9.1174 -5.0406,0 -9.1174,-4.07685 -9.1174,-9.1174 0,-5.04065 4.0768,-9.15211 9.1174,-9.15211 z m 53.634,0 c 5.0408,0 9.152,4.11146 9.152,9.15211 0,5.04055 -4.1112,9.1174 -9.152,9.1174 -5.0402,0 -9.1175,-4.07685 -9.1175,-9.1174 0,-5.04065 4.0773,-9.15211 9.1175,-9.15211 z m 53.6688,0 c 5.0401,0 9.1174,4.11146 9.1174,9.15211 0,5.04055 -4.0773,9.1174 -9.1174,9.1174 -5.0409,0 -9.1521,-4.07685 -9.1521,-9.1174 0,-5.04065 4.1112,-9.15211 9.1521,-9.15211 z m 53.6339,0 c 5.0405,0 9.1175,4.11146 9.1175,9.15211 0,5.04055 -4.077,9.1174 -9.1175,9.1174 -5.0405,0 -9.1174,-4.07685 -9.1174,-9.1174 0,-5.04065 4.0769,-9.15211 9.1174,-9.15211 z m 53.634,0 c 5.0408,0 9.152,4.11146 9.152,9.15211 0,5.04055 -4.1112,9.1174 -9.152,9.1174 -5.0402,0 -9.1175,-4.07685 -9.1175,-9.1174 0,-5.04065 4.0773,-9.15211 9.1175,-9.15211 z m 53.6687,0 c 5.0402,0 9.1175,4.11146 9.1175,9.15211 0,5.04055 -4.0773,9.1174 -9.1175,9.1174 -5.0408,0 -9.1174,-4.07685 -9.1174,-9.1174 0,-5.04065 4.0766,-9.15211 9.1174,-9.15211 z m 53.634,0 c 5.0406,0 9.1519,4.11146 9.1519,9.15211 0,5.04055 -4.1113,9.1174 -9.1519,9.1174 -5.0405,0 -9.1174,-4.07685 -9.1174,-9.1174 0,-5.04065 4.0769,-9.15211 9.1174,-9.15211 z m -2380.03308,12.77837 1.07059,0.07 c -0.35499,0.59999 -0.71499,1.19589 -1.07059,1.79588 l 0,-1.86478 z m 17.68232,1.27779 9.3247,0.69099 0,5.83654 -9.3247,-0.65599 0,-5.87104 z m -8.35761,0.51799 0,4.73135 -2.38298,-0.173 c 0.78899,-1.52128 1.59219,-3.04036 2.38298,-4.55875 z m 28.00851,0.89799 9.2901,0.691 0,5.87123 -9.2901,-0.69099 0,-5.87124 z m 2410.94256,7.32163 40.6486,0.82899 0,11.60398 -31.8074,-0.449 c -3.372,-3.75606 -6.2488,-7.77862 -8.8412,-11.98397 z m 48.5227,0.96699 45.3801,0.89799 0,11.32778 -45.3801,-0.65599 0,-11.56958 z m 53.2888,1.07069 50.1114,1.00149 0,10.98248 -50.1114,-0.72499 0,-11.25868 z m 58.0201,1.13958 38.4383,0.794 c -1.8253,3.63226 -3.6809,7.26972 -5.353,10.60249 l -33.0853,-0.449 0,-10.94789 z m -2604.75741,0.173 5.97474,0.449 0,5.83644 -8.91031,-0.622 c 0.97199,-1.89158 1.96168,-3.77676 2.93557,-5.66394 z m 2649.30861,0.72499 0.449,0 0,10.67149 -5.7675,-0.07 c 1.71,-3.40696 3.4702,-6.92512 5.3185,-10.60249 z m -2634.97626,0.311 9.3247,0.69099 0,5.83644 -9.3247,-0.65599 0,-5.87114 z m 19.6509,1.41599 9.2901,0.69099 0,5.87114 -9.2901,-0.69099 0,-5.87114 z m 989.72633,0.17299 c -0.149,3.83216 -0.449,7.66433 -0.449,11.50049 2e-4,8.69201 -0.161,17.40251 0.449,26.07442 0.37099,5.27665 1.78318,10.4376 2.48657,15.67924 1.17419,8.75191 2.60338,17.50102 3.14277,26.31623 0.315,5.14915 -0.90199,10.25399 -0.58699,15.40304 0.18499,3.01437 0.74999,8.08812 1.34698,11.91478 l -6.32013,0 c -0.439,-3.43367 -0.84499,-7.81222 -1.07049,-10.3262 -0.331,-3.67876 0.329,-7.39912 0.104,-11.08598 -0.242,-3.94866 -0.85899,-7.87152 -1.48499,-11.77668 -0.81899,-5.10685 -2.28227,-10.0863 -2.83197,-15.23024 -0.35099,-3.28147 0.304,-6.61583 0.138,-9.9118 -0.42999,-8.54301 -1.28259,-17.03012 -1.96858,-25.55643 -0.37999,-4.72355 -1.08289,-9.45711 -1.20869,-14.19426 -0.07,-2.65977 0.435,-5.29344 0.656,-7.94311 l 7.59792,-0.864 z m -420.85304,0.173 7.90872,0.414 c 0.395,2.63107 1.07929,5.21494 1.17419,7.87412 0.169,4.73485 -0.286,9.4914 -0.38,14.22875 -0.16899,8.55081 -0.50899,17.07352 -0.41399,25.62543 0.04,3.29967 0.94899,6.58114 0.79399,9.8773 -0.242,5.16735 -1.44638,10.25649 -1.96858,15.40284 -0.399,3.93566 -0.79399,7.89022 -0.79399,11.84588 0,3.69326 0.90299,7.35992 0.79399,11.05148 -0.1,3.37407 -0.51799,6.73073 -0.93199,10.0844 l -6.52733,-0.03 c 0.52699,-3.73696 1.13969,-7.49332 1.13969,-11.25868 0,-5.15785 -1.58859,-10.2105 -1.58859,-15.36844 0,-8.83051 0.92999,-17.64832 1.58859,-26.45433 0.39399,-5.27415 1.53868,-10.49429 1.58868,-15.78294 0.08,-8.69181 -0.62599,-17.36492 -1.17419,-26.03993 -0.242,-3.82816 -0.81399,-7.65062 -1.20879,-11.46588 z m 1057.34737,0.03 8.8412,0.414 c 0.442,2.62997 1.2062,5.21654 1.3124,7.87422 0.189,4.73265 -0.309,9.459 -0.414,14.19425 -0.19,8.54641 -0.59,17.07752 -0.484,25.62543 0.04,3.29787 1.0708,6.58284 0.898,9.8773 -0.271,5.16435 -1.626,10.25909 -2.2103,15.40284 -0.447,3.93366 -0.863,7.85742 -0.863,11.81138 0,3.69096 0.985,7.36162 0.863,11.05148 -0.111,3.37197 -0.573,6.73223 -1.0361,10.0844 l -7.287,-0.03 c 0.59,-3.73506 1.2778,-7.49522 1.2778,-11.25858 0,-5.15535 -1.7959,-10.2133 -1.7959,-15.36844 0,-8.82631 1.0591,-17.61852 1.7959,-26.41993 0.441,-5.27135 1.7054,-10.49669 1.7613,-15.78284 0.09,-8.68721 -0.699,-17.33502 -1.3123,-26.00543 -0.271,-3.82606 -0.905,-7.65242 -1.347,-11.46588 z m -1217.593403,7.87412 9.082906,0 c -0.394996,5.52574 -1.532484,11.04909 -1.174188,16.57723 0.567994,8.76401 2.84777,17.32542 3.937059,26.03993 1.411086,11.28858 3.339866,22.57466 3.557263,33.94865 0.138999,7.28542 -0.889991,14.53875 -1.726882,21.79207 l -8.66841,0 c 0.701993,-6.73613 1.774682,-13.43776 1.726782,-20.20329 -0.08,-10.94849 -1.543284,-21.85837 -2.382975,-32.77456 -0.607994,-7.89792 -1.214287,-15.80624 -1.96858,-23.69155 -0.692992,-7.24583 -1.593583,-14.45225 -2.382975,-21.68848 z m 801.609983,0 8.80661,0 c -0.76399,7.23723 -1.64268,14.44165 -2.31388,21.68848 -0.73099,7.88641 -1.31108,15.79253 -1.89948,23.69155 -0.81299,10.91759 -2.23867,21.82477 -2.31387,32.77456 -0.05,6.76663 1.01219,13.46616 1.69218,20.20329 l -8.39211,0 c -0.811,-7.25432 -1.82708,-14.50555 -1.69229,-21.79207 0.21,-11.37569 2.08708,-22.65847 3.45357,-33.94865 1.05499,-8.71571 3.24876,-17.27472 3.79896,-26.03993 0.34699,-5.52904 -0.75799,-11.05059 -1.13969,-16.57723 z m 144.2905,0.03 10.1535,0 c -0.442,5.52294 -1.71338,11.01739 -1.31229,16.54273 0.635,8.75941 3.20147,17.32992 4.42056,26.03993 1.57898,11.28278 3.72826,22.54576 3.97155,33.91415 0.156,7.28142 -0.99699,14.54235 -1.93398,21.79207 l -9.70449,0 c 0.78599,-6.73293 1.98767,-13.44106 1.93398,-20.20349 -0.09,-10.94239 -1.71959,-21.82947 -2.65928,-32.73986 -0.67999,-7.89382 -1.36628,-15.81034 -2.21037,-23.69155 -0.776,-7.24213 -1.77579,-14.42145 -2.65918,-21.65398 z m 1072.37042,4.73145 24.693,0.449 0,12.43287 c -10.3475,-3.20457 -18.2876,-7.62242 -24.693,-12.88187 z m 32.5671,0.587 45.3801,0.82899 0,16.30093 0.38,0.79399 -9.0484,0 c -14.5806,0 -26.6294,-1.28899 -36.7116,-3.55716 l 0,-14.36685 z m 53.2888,0.96699 50.1114,0.93199 0,15.23034 0.38,0.79399 -50.4913,0 0,-16.95702 z m 58.0201,1.07048 29.3901,0.553 c -0.432,0.86399 -1.1067,2.17878 -1.5196,3.00457 -2.5328,5.06534 -4.5405,9.0864 -6.1476,12.32937 l -21.7229,0 0,-15.88654 z m 35.5028,0.656 9.4974,0.173 0,13.43446 0.76,1.62318 -17.855,0 c 1.4539,-2.92037 2.8794,-5.79354 4.9041,-9.8428 0.738,-1.47658 1.8948,-3.79276 2.6938,-5.38754 z m -1631.09018,5.52574 c 0.336,0 1.02369,0 1.38138,0 0.1,5.43364 0.185,10.88079 0.553,16.30083 0.05,0.79999 0.106,1.58438 0.173,2.38308 -3.26267,0.03 -6.54943,0.06 -9.7736,0.104 -1.53419,0.02 -3.13497,-1.97558 -3.03917,-3.55707 l 0.75999,-12.64017 c 0.08,-1.31318 2.01978,-1.59388 3.03917,-2.38287 0.127,-0.1 2.62297,-0.175 6.90713,-0.207 z m -361.76235,0.03 c 14.98605,-0.04 25.05164,0.01 25.31474,0.207 1.05249,0.78899 3.09527,1.03549 3.17727,2.34847 l 0.75999,12.64007 c 0.1,1.58119 -1.55859,3.57897 -3.14277,3.55717 -17.94561,-0.237 -36.52132,-0.225 -55.32632,-0.07 0.03,-1.03679 0.06,-2.07128 0.07,-3.10837 0.03,-5.15555 -0.21899,-10.2848 -0.44899,-15.43744 10.51779,-0.06 21.27188,-0.118 29.59709,-0.138 z m 383.69252,0 c 44.55114,0.149 125.6315,0.96699 126.74629,0.96699 1.00169,0 44.53703,0.283 80.64106,0.51799 -0.72399,6.68774 -1.63328,13.35987 -2.52107,20.0308 -61.16537,-0.05 -135.82899,-2.90147 -204.72818,-2.93547 -0.104,-1.17619 -0.231,-2.34428 -0.311,-3.52267 -0.33799,-5.00784 -0.06,-10.03689 0.173,-15.05764 z m 645.85361,0 c 7.5319,0.02 13.1108,0.08 13.2963,0.207 1.1778,0.78899 3.4307,1.07129 3.5226,2.38297 l 0.863,12.60557 c 0.11,1.58039 -1.75,3.57877 -3.5227,3.55717 -4.5312,-0.05 -9.1491,-0.07 -13.7451,-0.104 0.03,-1.01289 0.06,-2.02608 0.07,-3.03917 0.04,-5.19895 -0.224,-10.41449 -0.484,-15.61014 z m -23.7952,0.03 c 0.641,5.18235 1.3499,10.37029 1.3123,15.57554 -0.01,0.99499 -0.04,1.97588 -0.07,2.97007 -83.4774,0.09 -174.09307,3.23756 -246.13642,2.93547 -1.02069,-6.63093 -2.06658,-13.27997 -2.90097,-19.9271 40.13038,-0.22599 103.78679,-0.58699 105.09229,-0.58699 1.2603,0 90.585,-0.79299 142.7018,-0.96699 z m -1056.5876,0.242 c 0.56499,5.09364 1.20719,10.18359 1.17429,15.29924 -0.008,1.11419 -0.04,2.23668 -0.07,3.35006 -46.823816,0.617 -94.391722,1.89368 -137.417876,2.38298 -0.917991,-6.66993 -1.881781,-13.31016 -2.624673,-19.99619 26.5646246,-0.167 53.786342,-0.345 54.462835,-0.345 0.814992,0 43.39815,-0.402 84.474524,-0.69099 z m -161.97272,1.17418 c 0.699993,6.29044 1.411286,12.56547 2.106678,18.85651 0.04,0.403 0.09,0.80599 0.137999,1.20869 -15.680137,0.05 -30.579783,-0.06 -44.34394,-0.414 -4.913347,-0.125 -8.884107,-2.02288 -8.703007,-4.31695 l 1.20878,-15.02305 c 0,0 26.191433,-0.163 49.59339,-0.311 z m 826.16483,0.173 c 5.46484,0.04 20.16889,0.138 20.16889,0.138 l 1.13969,15.02305 c 0.175,2.29457 -3.66846,4.19185 -8.42671,4.31695 -4.85315,0.129 -9.8654,0.209 -14.98855,0.276 0.04,-0.356 0.07,-0.71399 0.104,-1.07059 0.66699,-6.23414 1.33139,-12.44987 2.00308,-18.68391 z m 118.83767,0.104 c 0.77299,6.19974 1.54658,12.41417 2.31387,18.61481 0.04,0.287 0.07,0.57599 0.104,0.86299 -1.78068,-0.03 -3.63836,-0.06 -5.38754,-0.104 -5.49825,-0.125 -9.9072,-2.02398 -9.7046,-4.31695 l 1.31238,-14.98845 c 0,0 9.7117,-0.06 11.36229,-0.07 z m -693.44391,23.72616 1.55408,15.40284 c 0.283,2.76087 -4.30455,4.33985 -7.07982,4.31705 l -63.61494,-0.51799 c 0.03,-6.10164 0.47799,-12.20248 0.82899,-18.30411 22.77436,-0.247 45.53593,-0.56 68.31179,-0.89799 z m 303.12056,0 c 7.57502,0.11599 15.14994,0.20299 22.72456,0.31099 0.73499,6.41354 1.64088,12.80477 2.07208,19.2363 l -19.4437,0.173 c -2.68757,0.02 -7.14683,-1.55518 -6.87253,-4.31705 l 1.51959,-15.40284 z m 715.96117,0 1.7958,15.40284 c 0.317,2.75987 -4.8722,4.34005 -7.9777,4.31705 l -23.0008,-0.173 c 0.01,-6.39453 0.563,-12.77246 0.967,-19.1673 9.4074,-0.116 18.807,-0.256 28.2157,-0.37999 z m -1304.070973,0.37999 c 12.060475,0.245 24.13395,0.428 36.193425,0.587 0.616993,5.59354 1.249787,11.19048 1.86498,16.78432 l -44.758335,-0.37999 -0.379997,-12.22568 c -0.09,-2.84477 4.233757,-4.78965 7.079827,-4.76595 z m 864.085133,0 c 2.75627,-0.02 6.96153,1.92088 6.87263,4.76595 l -0.38,12.22568 -15.40294,0.13799 c 0.603,-5.66284 1.19099,-11.32898 1.79579,-16.99162 2.36917,-0.05 4.74525,-0.09 7.11442,-0.138 z m -233.25468,0.208 c 67.7774,0.88099 135.5311,1.30019 203.31219,0.311 -0.55499,4.43005 -1.07299,8.8451 -1.41598,13.29636 -0.09,1.15539 -0.138,2.33117 -0.207,3.48816 l -199.09873,1.69218 c -0.875,-6.26053 -1.82969,-12.51577 -2.59028,-18.7875 z m 622.02392,0.03 c -0.417,6.25773 -1.0184,12.50047 -1.5886,18.753 l -241.57785,-1.76138 c -0.08,-1.13219 -0.141,-2.28767 -0.242,-3.41906 -0.39999,-4.48575 -1.00929,-8.93581 -1.65768,-13.39986 81.69975,1.17869 163.37643,0.74599 245.06583,-0.173 z m -271.34756,0.44899 c 0.672,5.44515 1.33259,10.88979 2.00308,16.33554 l -5.83654,-0.03 -0.44899,-12.22568 c -0.07,-1.84098 1.97928,-3.28776 4.28245,-4.07526 z m -785.34365,0.03 c -0.36699,5.97474 -0.92699,11.95318 -1.41598,17.92402 l -133.30802,-1.10519 c -0.08,-1.23639 -0.143999,-2.49477 -0.241998,-3.72986 -0.344996,-4.33416 -0.860991,-8.63781 -1.415985,-12.95087 45.457128,0.403 90.924056,0.276 136.381783,-0.138 z m 212.3606,8.35752 16.57713,0 0,50.11148 -16.57713,0 0,-50.11148 z m 42.61716,0 16.57712,0 0,50.14598 -16.57712,0 0,-50.14598 z m 603.71983,13.29636 c 65.15002,0.148 130.67652,3.30097 195.74882,4.45515 -0.253,3.88236 -0.344,8.63771 -0.345,13.43436 l -239.95465,-3.69536 c -0.02,-4.57345 -0.08,-9.1433 -0.276,-13.71066 9.5847,-0.22399 19.1652,-0.39399 28.7684,-0.44899 5.35224,-0.03 10.70109,-0.05 16.05903,-0.03 z m -993.179893,0.03 c 44.097743,0.1 88.379983,1.90218 132.548323,3.28087 -0.009,0.12699 -0.03,0.25399 -0.03,0.37999 -0.248,3.80556 -0.33599,8.61801 -0.34499,13.46906 l -131.857636,-2.27947 c -0.02,-4.94825 -0.110999,-9.9092 -0.310997,-14.85035 z m 747.112553,0 c 7.82611,0 15.63693,0.07 23.44975,0.207 -0.181,4.72365 -0.25799,9.4643 -0.27599,14.19435 l -196.43957,3.45446 c -0.28499,-4.75645 -0.62799,-9.4892 -1.07049,-13.43446 57.9612,-1.18008 116.3278,-4.45745 174.3366,-4.42055 z m -770.182414,0.104 c 0.525995,4.78825 1.061589,9.5788 1.588584,14.36695 l -56.77681,-0.96699 0.41499,-11.43128 c 18.206316,-1.12089 36.460926,-1.73358 54.773736,-1.96858 z m 815.907734,0.69099 c 8.42711,0.313 16.84833,0.74399 25.24564,1.27789 l 0.38,11.46588 -27.04162,0.48299 c 0.46999,-4.40845 0.94699,-8.8182 1.41598,-13.22716 z m 129.81995,0.449 c 0.516,4.18925 1.00329,8.38101 1.51959,12.57097 l -19.2019,-0.311 0.41499,-11.43128 c 5.74664,-0.316 11.50808,-0.59 17.26782,-0.82899 z m -768.07563,2.69367 c 20.58579,0.54799 41.14038,0.91599 61.61176,0.89799 2.24048,0 4.24976,2.90767 4.35156,5.14585 l 0.37999,8.66851 -63.92573,-1.10519 c -0.07,-4.60205 -1.68448,-9.05441 -2.41748,-13.60716 z m 396.67789,0.79399 c -0.453,4.51725 -1.66788,9.00991 -1.45049,13.53796 l -21.10128,0.38 0.38,-8.66851 c 0.1,-2.23848 2.04368,-5.14845 4.21335,-5.14585 5.98114,0 11.96548,-0.04 17.95862,-0.104 z m 662.56893,0 c 6.8833,0.06 13.7482,0.108 20.6178,0.104 2.5072,0 4.7558,2.87387 4.8696,5.11125 l 0.449,8.70301 -23.4152,-0.345 c 0,-0.149 0,-0.299 0,-0.449 0,-4.42785 -1.6272,-8.7571 -2.5211,-13.12366 z M -86.327418,818.78956 c 12.130874,0.38199 24.266248,0.68899 36.400722,0.96699 0.315997,4.49085 0.321997,8.30831 0.206998,11.46588 l -36.987816,-0.587 c -1.883481,-0.03 -5.379444,-0.51399 -5.145847,-2.38297 l 0.793992,-6.32013 c 0.234998,-1.88209 2.834371,-3.18377 4.731351,-3.14267 z m 855.520328,0 c 1.83718,-0.04 4.36535,1.25978 4.59325,3.14267 l 0.75999,6.32013 c 0.226,1.86948 -3.14917,2.35368 -4.97315,2.38297 l -7.94322,0.138 c -0.1,-3.25156 -0.06,-7.17462 0.276,-11.77667 2.42688,-0.07 4.86025,-0.128 7.28703,-0.207 z m 150.43784,0.48399 c 79.99697,1.91608 160.05465,2.06718 240.02365,4.69685 0.06,4.03096 0.132,7.69162 0.207,10.3953 l -240.36915,-3.45367 c 0.09,-2.46907 0.17299,-4.95415 0.17299,-7.42512 0,-1.40499 -0.04,-2.80767 -0.03,-4.21336 z m -178.34275,0.311 c 4e-4,1.31469 0,2.62307 0,3.93716 0,2.52977 0.09,5.06885 0.17299,7.59792 l -195.81786,3.24627 c -0.1,-2.61508 -0.204,-6.07124 -0.414,-10.4297 65.31882,-2.44807 130.71274,-2.70517 196.05957,-4.35165 z m 154.58209,0.138 c 0.322,4.08256 0.399,7.61662 0.311,10.60259 -1.66678,-0.299 -3.17027,-0.88899 -3.00467,-2.07218 l 0.89799,-6.32013 c 0.125,-0.892 0.84899,-1.65139 1.79578,-2.21028 z m -924.557306,0.44899 c 43.959744,0.85799 87.940987,1.33889 131.892136,2.45198 0.04,4.24635 0.13599,8.09941 0.20699,11.05138 l -132.272024,-2.10657 c 0.1,-2.68208 0.172998,-5.36305 0.172998,-8.04682 0,-1.11819 -5e-4,-2.23198 0,-3.34997 z m 156.412576,3.17727 c 17.98651,0.56299 35.97063,1.24249 53.94484,2.14118 l 1.17429,9.4628 -56.39692,-0.89799 c 0.495,-3.55846 0.99199,-7.13673 1.27779,-10.70609 z m 393.84601,1.55418 c 0.487,3.29117 1.11409,6.56954 1.76139,9.8426 l -14.81595,0.242 1.13979,-9.4974 c 3.97386,-0.205 7.94012,-0.403 11.91477,-0.587 z m 665.33183,0.07 c 4.1237,0.168 8.2406,0.334 12.3637,0.518 l 1.0706,7.49422 c -3.9287,0.69199 -7.9646,1.29219 -12.1219,1.79578 l -2.6938,-0.03 c 0.509,-3.25676 1.0321,-6.50913 1.3814,-9.7737 z",
          scale: 0.01,
          centerY: am5.p50,
          centerX: am5.p50,
          fill: am5.color(0x000000)
        });

        planeSeries.bullets.push(function() {
          var container = am5.Container.new(root, {});
          container.children.push(plane);
          return am5.Bullet.new(root, { sprite: container });
        });

        var planeDataItem = planeSeries.pushDataItem({
          lineDataItem: lineDataItem,
          positionOnLine: 0,
          autoRotate: false
        });

        planeDataItem.animate({
          key: "positionOnLine",
          to: 1,
          duration: 10000,
          loops: Infinity,
          easing: am5.ease.yoyo(am5.ease.linear)
        });

        planeDataItem.on("positionOnLine", function(value) {
          plane.set("rotation", 0);
          /*
          if (value >= 0.99) {
            plane.set("rotation", 180);
          } else if (value <= 0.01) {
            plane.set("rotation", 0);
          }
          */
        });

        function addCity(coords, title) {
          return pointSeries.pushDataItem({
            latitude: coords.latitude,
            longitude: coords.longitude
          });
        }

        // Make stuff animate on load
        chart.appear(1000, 100);

        }); // end am5.ready()

        root.appendTo('#achartdiv');
    }
};